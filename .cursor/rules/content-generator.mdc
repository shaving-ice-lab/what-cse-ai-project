---
description: å…¬è€ƒå†…å®¹è‡ªåŠ¨ç”Ÿæˆè§„åˆ™ - å½“ç”¨æˆ·è¯´"å…¬è€ƒ:å¼€å§‹ç”Ÿæˆ"æ—¶è‡ªåŠ¨æ‰§è¡Œå†…å®¹ç”Ÿæˆæµç¨‹
globs:
  - "scripts/generated/**"
  - "docs/content-creation-todolist.md"
alwaysApply: true
---

# å…¬è€ƒå†…å®¹ç”Ÿæˆå™¨ (MCP ç‰ˆ v2.1)

å½“ç”¨æˆ·è¯´ä»¥ **"å…¬è€ƒ:"** å¼€å¤´çš„æŒ‡ä»¤æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œå¯¹åº”çš„å†…å®¹ç”Ÿæˆæµç¨‹ã€‚

## æ ¸å¿ƒç‰¹æ€§

- **ä»»åŠ¡æ¥æº**ï¼šç›´æ¥è¯»å– `docs/content-creation-todolist.md` æ–‡ä»¶
- **è‡ªåŠ¨æ ‡è®°**ï¼šå®Œæˆä»»åŠ¡åè‡ªåŠ¨å°† `- [ ]` æ”¹ä¸º `- [x]`
- **å±‚çº§è§£æ**ï¼šæ”¯æŒç« èŠ‚ã€å°èŠ‚ã€çˆ¶ä»»åŠ¡ç­‰å±‚çº§ç»“æ„
- **æŒç»­ç”Ÿæˆ**ï¼šæ”¯æŒå¼€å¯æŒç»­æ¨¡å¼ï¼Œè‡ªåŠ¨è¿ç»­ç”Ÿæˆå¤šä¸ªä»»åŠ¡
- **å®æ—¶è¿›åº¦**ï¼šæ¯æ¬¡æ“ä½œæ˜¾ç¤ºè¿›åº¦æ¡å’Œå®ŒæˆçŠ¶æ€

## è§¦å‘è¯

| è§¦å‘è¯ | æ“ä½œ |
|--------|------|
| **"å…¬è€ƒ:å¼€å§‹ç”Ÿæˆ"** | **å¼€å¯æŒç»­æ¨¡å¼**ï¼Œè·å–ç¬¬ä¸€ä¸ªä»»åŠ¡å¹¶å¼€å§‹è¿ç»­ç”Ÿæˆ |
| **"å…¬è€ƒ:ç»§ç»­"** | åœ¨æŒç»­æ¨¡å¼ä¸‹ç»§ç»­ç”Ÿæˆä¸‹ä¸€ä¸ªä»»åŠ¡ |
| **"å…¬è€ƒ:åœæ­¢"** | å…³é—­æŒç»­ç”Ÿæˆæ¨¡å¼ |
| **"å…¬è€ƒ:æŸ¥çœ‹è¿›åº¦"** | æ˜¾ç¤ºæ‰€æœ‰ä»»åŠ¡çš„å®Œæˆè¿›åº¦ï¼ˆå¸¦è¿›åº¦æ¡ï¼‰ |
| **"å…¬è€ƒ:åˆ—å‡ºä»»åŠ¡"** | åˆ—å‡ºå¾…å®Œæˆçš„ä»»åŠ¡åˆ—è¡¨ |
| **"å…¬è€ƒ:æŸ¥çœ‹é…ç½®"** | æ˜¾ç¤ºå½“å‰è¯»å–çš„ä»»åŠ¡æ–‡ä»¶è·¯å¾„ |
| **"å…¬è€ƒ:åˆ‡æ¢æ–‡ä»¶ xxx"** | åˆ‡æ¢åˆ°æŒ‡å®šçš„ä»»åŠ¡æ–‡ä»¶ |
| **"å…¬è€ƒ:å¯¼å…¥æ•°æ®åº“"** | å¯¼å…¥å·²ç”Ÿæˆå†…å®¹åˆ°æ•°æ®åº“ |

## å¯ç”¨çš„ MCP å·¥å…· (user-content-generator)

| å·¥å…·å | è¯´æ˜ |
|--------|------|
| `get_config` | è·å–å½“å‰é…ç½®ï¼ˆä»»åŠ¡æ–‡ä»¶è·¯å¾„ç­‰ï¼‰ |
| `set_todolist_file` | åŠ¨æ€åˆ‡æ¢ä»»åŠ¡æ–‡ä»¶è·¯å¾„ |
| `get_current_task` | ä»é…ç½®çš„ä»»åŠ¡æ–‡ä»¶è·å–ç¬¬ä¸€ä¸ªæœªå®Œæˆä»»åŠ¡ |
| `mark_task_complete` | æ‰‹åŠ¨æ ‡è®°æŒ‡å®šè¡Œå·çš„ä»»åŠ¡ä¸ºå®Œæˆ |
| `save_course_content` | ä¿å­˜è¯¾ç¨‹å†…å®¹ï¼ˆå¯è‡ªåŠ¨æ ‡è®°å®Œæˆï¼ŒæŒç»­æ¨¡å¼ä¸‹è¿”å›ä¸‹ä¸€ä»»åŠ¡ï¼‰ |
| `save_question_batch` | ä¿å­˜é¢˜ç›®æ‰¹æ¬¡ï¼ˆå¯è‡ªåŠ¨æ ‡è®°å®Œæˆï¼ŒæŒç»­æ¨¡å¼ä¸‹è¿”å›ä¸‹ä¸€ä»»åŠ¡ï¼‰ |
| `save_material_batch` | ä¿å­˜ç´ ææ‰¹æ¬¡ï¼ˆå¯è‡ªåŠ¨æ ‡è®°å®Œæˆï¼ŒæŒç»­æ¨¡å¼ä¸‹è¿”å›ä¸‹ä¸€ä»»åŠ¡ï¼‰ |
| `get_progress_status` | è·å–æ€»ä½“è¿›åº¦ç»Ÿè®¡ï¼ˆæŒ‰ç« èŠ‚ç»Ÿè®¡ï¼‰ |
| `list_pending_tasks` | åˆ—å‡ºæœªå®Œæˆä»»åŠ¡ï¼ˆæ”¯æŒæ•°é‡é™åˆ¶å’Œç« èŠ‚è¿‡æ»¤ï¼‰ |
| `import_to_database` | å¯¼å…¥å·²ç”Ÿæˆå†…å®¹åˆ°æ•°æ®åº“ |
| `get_batch_tasks` | **æ–°** è·å–å¤šä¸ªå¾…å¤„ç†ä»»åŠ¡ï¼Œç”¨äºæ‰¹é‡ç”Ÿæˆ |
| `set_continuous_mode` | **æ–°** å¼€å¯/å…³é—­æŒç»­ç”Ÿæˆæ¨¡å¼ |
| `get_generation_status` | **æ–°** è·å–å½“å‰ç”ŸæˆçŠ¶æ€å’Œè¿›åº¦ |

## æŒç»­ç”Ÿæˆæ¨¡å¼ (é‡è¦!)

### å¼€å¯æŒç»­æ¨¡å¼çš„æ‰§è¡Œæµç¨‹

å½“ç”¨æˆ·è¯´ **"å…¬è€ƒ:å¼€å§‹ç”Ÿæˆ"** æ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹æµç¨‹ï¼š

1. **é¦–å…ˆ**è°ƒç”¨ `set_continuous_mode(enabled: true)` å¼€å¯æŒç»­æ¨¡å¼
2. è·å–è¿”å›çš„ `first_task` ä½œä¸ºç¬¬ä¸€ä¸ªä»»åŠ¡
3. **å¾ªç¯æ‰§è¡Œ**ä»¥ä¸‹æ­¥éª¤ç›´åˆ°ç”¨æˆ·è¯´"åœæ­¢"æˆ–æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼š
   - æ˜¾ç¤ºå½“å‰è¿›åº¦ï¼š`ğŸ“Š è¿›åº¦: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 8/100 (8%)`
   - æ˜¾ç¤ºå½“å‰ä»»åŠ¡ï¼š`ğŸš€ æ­£åœ¨ç”Ÿæˆ: ç¬¬1-4è¯¾ï¼šå®è¯è¾¨æåŸºç¡€æ–¹æ³•`
   - ç”Ÿæˆå†…å®¹å¹¶è°ƒç”¨ save å·¥å…·ä¿å­˜
   - è¯»å–è¿”å›çš„ `next_task` å’Œ `stream_progress`
   - æ˜¾ç¤ºå®ŒæˆçŠ¶æ€ï¼š`âœ… [1/100] [â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] å®è¯è¾¨æåŸºç¡€æ–¹æ³•`
   - å¦‚æœæœ‰ `next_task`ï¼Œç«‹å³ç»§ç»­ç”Ÿæˆä¸‹ä¸€ä¸ªä»»åŠ¡
   - å¦‚æœ `next_task` ä¸º nullï¼Œè¡¨ç¤ºæ‰€æœ‰ä»»åŠ¡å·²å®Œæˆ

4. ç”¨æˆ·è¯´ **"å…¬è€ƒ:åœæ­¢"** æ—¶ï¼Œè°ƒç”¨ `set_continuous_mode(enabled: false)`

### å®æ—¶è¿›åº¦æ˜¾ç¤ºæ ¼å¼

æ¯æ¬¡ä¿å­˜å†…å®¹æ—¶ï¼Œè¿”å›å€¼ä¸­åŒ…å« `stream_progress` å­—æ®µï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
```
âœ… [8/100] [â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] å®è¯è¾¨æåŸºç¡€æ–¹æ³•
```

åœ¨ç”Ÿæˆè¿‡ç¨‹ä¸­å‘ç”¨æˆ·æ˜¾ç¤ºï¼š
```
ğŸ“Š å½“å‰è¿›åº¦: 8/100 (8%)
ğŸš€ æ­£åœ¨ç”Ÿæˆ: ç¬¬5-8è¯¾ï¼šå®è¯è¾¨æè¿›é˜¶æŠ€å·§
â³ ç”Ÿæˆä¸­...
```

### æŒç»­æ¨¡å¼ä¸‹ save è¿”å›å€¼æ–°å¢å­—æ®µ

```json
{
  "success": true,
  "message": "è¯¾ç¨‹å†…å®¹å·²ä¿å­˜: xxx.json",
  "stream_progress": "âœ… [8/100] [â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] å®è¯è¾¨æåŸºç¡€æ–¹æ³•",
  "progress": {
    "completed": 8,
    "pending": 92,
    "total": 100,
    "percent": 8
  },
  "continuous_mode": true,
  "next_task": {
    "line_number": 89,
    "title": "**ç¬¬5-8è¯¾ï¼šå®è¯è¾¨æè¿›é˜¶æŠ€å·§**",
    "section": "Â§1 è¡Œæµ‹è¯¾ç¨‹å†…å®¹",
    "subject": "xingce",
    "type": "course"
  },
  "continue_hint": "è¯·ç»§ç»­ç”Ÿæˆ: **ç¬¬5-8è¯¾ï¼šå®è¯è¾¨æè¿›é˜¶æŠ€å·§**"
}
```

## å•æ¬¡ç”Ÿæˆæ¨¡å¼ï¼ˆä¼ ç»Ÿæ¨¡å¼ï¼‰

å¦‚æœç”¨æˆ·åªè¯´ **"å…¬è€ƒ:ç»§ç»­"** è€Œæ²¡æœ‰å¼€å¯æŒç»­æ¨¡å¼ï¼Œåˆ™æŒ‰ä¼ ç»Ÿæ–¹å¼ï¼š
1. è°ƒç”¨ `get_current_task` è·å–å½“å‰ä»»åŠ¡
2. ç”Ÿæˆå†…å®¹
3. ä¿å­˜åæ˜¾ç¤ºç»“æœï¼Œç­‰å¾…ç”¨æˆ·æŒ‡ä»¤

## å†…å®¹æ ¼å¼è§„èŒƒ

### è¯¾ç¨‹å†…å®¹ (save_course_content)

```json
{
  "task_line_number": 85,
  "content": {
    "chapter_title": "å®è¯è¾¨æåŸºç¡€æ–¹æ³•",
    "subject": "xingce",
    "knowledge_point": "è¨€è¯­ç†è§£-é€»è¾‘å¡«ç©º-å®è¯è¾¨æ",
    "lesson_content": {
      "introduction": "è¯¾ç¨‹å¯¼å…¥ï¼ˆ100-200å­—ï¼‰",
      "learning_goals": ["å­¦ä¹ ç›®æ ‡1", "å­¦ä¹ ç›®æ ‡2", "å­¦ä¹ ç›®æ ‡3"],
      "prerequisites": ["å‰ç½®çŸ¥è¯†1", "å‰ç½®çŸ¥è¯†2"],
      "core_concepts": ["æ ¸å¿ƒæ¦‚å¿µ1", "æ ¸å¿ƒæ¦‚å¿µ2"],
      "main_content": "ä¸»è¦æ•™å­¦å†…å®¹ï¼ˆ500-1000å­—è¯¦ç»†è®²è§£ï¼‰",
      "formulas": ["å…¬å¼æˆ–å£è¯€1", "å…¬å¼æˆ–å£è¯€2"],
      "memory_tips": ["è®°å¿†æŠ€å·§1", "è®°å¿†æŠ€å·§2"],
      "common_mistakes": ["æ˜“é”™ç‚¹1", "æ˜“é”™ç‚¹2"],
      "summary_points": ["æ€»ç»“è¦ç‚¹1", "æ€»ç»“è¦ç‚¹2", "æ€»ç»“è¦ç‚¹3"]
    },
    "lesson_sections": [
      {
        "order": 1,
        "title": "æ¦‚å¿µå¯¼å…¥",
        "content": "æœ¬èŠ‚è¯¦ç»†å†…å®¹...",
        "section_type": "intro",
        "key_points": ["è¦ç‚¹1", "è¦ç‚¹2"]
      },
      {
        "order": 2,
        "title": "æ–¹æ³•è®²è§£",
        "content": "è§£é¢˜æ–¹æ³•è¯´æ˜...",
        "section_type": "method",
        "examples": [
          {
            "title": "ä¾‹é¢˜1",
            "problem": "å®Œæ•´ä¾‹é¢˜é¢˜ç›®",
            "analysis": "è§£é¢˜åˆ†æè¿‡ç¨‹",
            "solution": "è¯¦ç»†è§£é¢˜æ­¥éª¤",
            "answer": "æ­£ç¡®ç­”æ¡ˆ"
          }
        ]
      },
      {
        "order": 3,
        "title": "æ€»ç»“å½’çº³",
        "content": "æœ¬èŠ‚è¯¾æ€»ç»“...",
        "section_type": "summary"
      }
    ],
    "practice_problems": [
      {
        "order": 1,
        "problem": "ç»ƒä¹ é¢˜å®Œæ•´é¢˜ç›®",
        "options": ["A. é€‰é¡¹A", "B. é€‰é¡¹B", "C. é€‰é¡¹C", "D. é€‰é¡¹D"],
        "answer": "A",
        "analysis": "è¯¦ç»†è§£æ",
        "difficulty": 2
      }
    ]
  }
}
```

**subject å€¼è¯´æ˜ï¼š**
- `xingce` - è¡Œæµ‹ï¼ˆè¨€è¯­ç†è§£ã€æ•°é‡å…³ç³»ã€åˆ¤æ–­æ¨ç†ã€èµ„æ–™åˆ†æã€å¸¸è¯†åˆ¤æ–­ï¼‰
- `shenlun` - ç”³è®º
- `mianshi` - é¢è¯•
- `gongji` - å…¬å…±åŸºç¡€çŸ¥è¯†

### é¢˜ç›®å†…å®¹ (save_question_batch)

æ¯æ‰¹ 10 é“é¢˜ï¼š

```json
{
  "task_line_number": 120,
  "batch_info": {
    "category": "è¨€è¯­ç†è§£",
    "topic": "é€»è¾‘å¡«ç©º",
    "batch_number": 1,
    "count": 10
  },
  "questions": [
    {
      "content": "å®Œæ•´é¢˜å¹²å†…å®¹ï¼Œé—®é¢˜æè¿°è¦æ¸…æ™°å®Œæ•´",
      "options": ["A. é€‰é¡¹A", "B. é€‰é¡¹B", "C. é€‰é¡¹C", "D. é€‰é¡¹D"],
      "answer": "A",
      "analysis": "ã€ç­”æ¡ˆã€‘A\nã€è§£æã€‘è¯¦ç»†è§£æï¼Œè¯´æ˜ä¸ºä»€ä¹ˆé€‰Aã€‚\nAé¡¹ï¼šæ­£ç¡®ï¼Œå› ä¸º...\nBé¡¹ï¼šé”™è¯¯ï¼Œå› ä¸º...\nCé¡¹ï¼šé”™è¯¯ï¼Œå› ä¸º...\nDé¡¹ï¼šé”™è¯¯ï¼Œå› ä¸º...",
      "difficulty": 3,
      "question_type": "single_choice",
      "knowledge_points": ["å®è¯è¾¨æ", "è¯­å¢ƒåˆ†æ"]
    }
  ]
}
```

**question_type å€¼è¯´æ˜ï¼š**
- `single_choice` - å•é€‰é¢˜
- `multi_choice` - å¤šé€‰é¢˜
- `fill_blank` - å¡«ç©ºé¢˜
- `essay` - ç®€ç­”é¢˜/ç”³è®ºé¢˜
- `judge` - åˆ¤æ–­é¢˜

**difficulty å€¼è¯´æ˜ï¼š** 1-5ï¼Œå…¶ä¸­ 1=ç®€å•ï¼Œ3=ä¸­ç­‰ï¼Œ5=å›°éš¾

### ç´ æå†…å®¹ (save_material_batch)

æ¯æ‰¹ 5 æ¡ç´ æï¼š

```json
{
  "task_line_number": 200,
  "batch_info": {
    "category": "åè¨€è­¦å¥",
    "topic": "ä¹ è¿‘å¹³è®²è¯",
    "batch_number": 1,
    "count": 5
  },
  "materials": [
    {
      "title": "ç´ ææ ‡é¢˜/åè¨€å‡ºå¤„",
      "content": "ç´ æå®Œæ•´å†…å®¹ï¼ˆ100-300å­—ï¼‰",
      "source": "å‡ºå¤„æ¥æºï¼ˆå¦‚ï¼š2024å¹´æ”¿åºœå·¥ä½œæŠ¥å‘Šã€ã€Šè®ºè¯­ã€‹ç­‰ï¼‰",
      "material_type": "quote",
      "theme": "ä¹¡æ‘æŒ¯å…´",
      "usage_scenario": "é€‚ç”¨åœºæ™¯è¯´æ˜ï¼Œå¦‚ï¼šé€‚ç”¨äºè®¨è®ºä¹¡æ‘æŒ¯å…´ã€ç”Ÿæ€æ–‡æ˜ç­‰è¯é¢˜",
      "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2", "æ ‡ç­¾3"]
    }
  ]
}
```

**material_type å€¼è¯´æ˜ï¼š**
- `quote` - åè¨€è­¦å¥
- `case` - æ¡ˆä¾‹ç´ æ
- `hot_topic` - çƒ­ç‚¹ä¸“é¢˜
- `interview` - é¢è¯•ç´ æ
- `sentence` - ä¼˜ç¾è¯­å¥
- `template` - ç­”é¢˜æ¨¡æ¿

## æ“ä½œæŒ‡ä»¤å¯¹ç…§è¡¨

| ç”¨æˆ·æŒ‡ä»¤ | MCP å·¥å…·è°ƒç”¨ |
|----------|-------------|
| "å…¬è€ƒ:å¼€å§‹ç”Ÿæˆ" | `set_continuous_mode(enabled: true)` â†’ å¾ªç¯: ç”Ÿæˆå†…å®¹ â†’ `save_*` â†’ è¯»å– next_task â†’ ç»§ç»­ |
| "å…¬è€ƒ:ç»§ç»­" | åœ¨æŒç»­æ¨¡å¼ä¸‹ç»§ç»­ï¼Œæˆ– `get_current_task` â†’ ç”Ÿæˆå†…å®¹ â†’ `save_*` |
| "å…¬è€ƒ:åœæ­¢" | `set_continuous_mode(enabled: false)` |
| "å…¬è€ƒ:æŸ¥çœ‹è¿›åº¦" | `get_generation_status` (å¸¦è¿›åº¦æ¡) |
| "å…¬è€ƒ:åˆ—å‡ºä»»åŠ¡" | `list_pending_tasks` |
| "å…¬è€ƒ:åˆ—å‡ºä»»åŠ¡ è¨€è¯­ç†è§£" | `list_pending_tasks(section_filter: "è¨€è¯­ç†è§£")` |
| "å…¬è€ƒ:æŸ¥çœ‹é…ç½®" | `get_config` |
| "å…¬è€ƒ:åˆ‡æ¢æ–‡ä»¶ xxx.md" | `set_todolist_file(file_path: "xxx.md")` |
| "å…¬è€ƒ:æ ‡è®°å®Œæˆ 85" | `mark_task_complete(line_number: 85)` |
| "å…¬è€ƒ:å¯¼å…¥æ•°æ®åº“" | `import_to_database` |
| "å…¬è€ƒ:æ‰¹é‡è·å– 5" | `get_batch_tasks(count: 5)` |

## è´¨é‡è¦æ±‚

- å†…å®¹å¿…é¡»ä¸“ä¸šã€å‡†ç¡®ï¼Œç¬¦åˆå…¬åŠ¡å‘˜è€ƒè¯•å®é™…è¦æ±‚
- é¢˜ç›®éœ€åŒ…å«å®Œæ•´è§£æï¼Œè§£æè¦è¯¦ç»†è¯´æ˜è§£é¢˜æ€è·¯
- è¯¾ç¨‹éœ€åŒ…å«ä¾‹é¢˜å’Œç»ƒä¹ é¢˜
- ç´ æè¦æ³¨æ˜æ¥æºï¼Œç¡®ä¿å¯è€ƒè¯

## æ–‡ä»¶ä½ç½®

- ä»»åŠ¡æ¥æºï¼šå¯é…ç½®ï¼ˆé»˜è®¤ `docs/content-creation-todolist.md`ï¼‰
- è¯¾ç¨‹è¾“å‡ºï¼š`scripts/generated/courses/`
- é¢˜ç›®è¾“å‡ºï¼š`scripts/generated/questions/`
- ç´ æè¾“å‡ºï¼š`scripts/generated/materials/`

## é…ç½®ä»»åŠ¡æ–‡ä»¶

### æ–¹å¼ä¸€ï¼šç¯å¢ƒå˜é‡ï¼ˆåœ¨ .cursor/mcp.json ä¸­é…ç½®ï¼‰

```json
{
  "env": {
    "TODOLIST_FILE": "docs/fenbi-development-todolist.md"
  }
}
```

### æ–¹å¼äºŒï¼šè¿è¡Œæ—¶åˆ‡æ¢

```
å…¬è€ƒ:åˆ‡æ¢æ–‡ä»¶ docs/fenbi-development-todolist.md
```
