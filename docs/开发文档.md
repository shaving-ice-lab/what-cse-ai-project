# 公考职位智能筛选系统 - 开发文档

> 版本: v1.0  
> 创建日期: 2024年12月29日  
> 基于: 公考职位筛选App需求文档

---

## 一、项目技术架构

### 1.1 整体架构

```
┌─────────────────────────────────────────────────────────────────────────┐
│                              客户端层                                    │
│  ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌────────────┐        │
│  │  Web用户端  │  │ Admin管理端 │  │  App客户端  │  │ 微信小程序  │        │
│  │  (React)   │  │  (React)   │  │(Taro React)│  │(Taro React)│        │
│  └────────────┘  └────────────┘  └────────────┘  └────────────┘        │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                              后端服务层                                   │
│                         Golang Echo Framework                            │
│  ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌────────────┐        │
│  │  用户服务   │  │  职位服务   │  │  匹配服务   │  │  公告服务   │        │
│  └────────────┘  └────────────┘  └────────────┘  └────────────┘        │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                              数据层                                      │
│        MySQL          Redis          Elasticsearch                       │
└─────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                           数据采集层 (Python)                            │
│  ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌────────────┐        │
│  │ 爬虫引擎   │  │ 文档解析器  │  │ AI预处理   │  │ GUI管理端  │        │
│  │ (Scrapy)  │  │(PDF/Excel) │  │  (LLM)    │  │ (PyQt/Tk) │        │
│  └────────────┘  └────────────┘  └────────────┘  └────────────┘        │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.2 技术栈详情

| 模块 | 技术选型 | 说明 |
|-----|---------|------|
| **Web前端** | React 18 + TypeScript + Vite | 用户端和Admin端在同一项目 |
| **UI框架** | TailwindCSS + shadcn/ui | 现代化UI组件库 |
| **状态管理** | Zustand / React Query | 轻量级状态管理 |
| **后端框架** | Golang Echo v4 | 高性能REST API |
| **ORM** | GORM | Go语言ORM |
| **数据库** | MySQL 8.0 | 主数据库 |
| **缓存** | Redis | 缓存与会话管理 |
| **搜索** | Elasticsearch | 全文搜索 |
| **App端** | Taro 3.x + React | 跨端App开发 |
| **小程序** | Taro 3.x + React | 微信小程序 |
| **爬虫** | Python Scrapy | 数据采集 |
| **文档解析** | pdfplumber/python-docx/pandas | 多格式解析 |
| **OCR** | PaddleOCR | 图片文字识别 |
| **爬虫GUI** | PyQt6 / Tkinter | 爬虫管理界面 |

### 1.3 项目目录结构

```
what-cse-ai-project/
├── apps/
│   ├── web/                    # Web前端 (用户端 + Admin端)
│   │   ├── src/
│   │   │   ├── pages/          # 页面
│   │   │   │   ├── user/       # 用户端页面
│   │   │   │   └── admin/      # Admin端页面
│   │   │   ├── components/     # 公共组件
│   │   │   ├── hooks/          # 自定义Hooks
│   │   │   ├── stores/         # 状态管理
│   │   │   ├── services/       # API服务
│   │   │   ├── utils/          # 工具函数
│   │   │   └── types/          # TypeScript类型
│   │   └── package.json
│   │
│   ├── mobile/                 # Taro App端
│   │   ├── src/
│   │   │   ├── pages/          # 页面
│   │   │   ├── components/     # 组件
│   │   │   └── services/       # API服务
│   │   └── package.json
│   │
│   └── miniprogram/            # 微信小程序
│       ├── src/
│       │   ├── pages/          # 页面
│       │   ├── components/     # 组件
│       │   └── services/       # API服务
│       └── package.json
│
├── server/                     # Golang后端
│   ├── cmd/
│   │   └── api/
│   │       └── main.go         # 入口文件
│   ├── internal/
│   │   ├── handler/            # HTTP处理器
│   │   ├── service/            # 业务逻辑
│   │   ├── repository/         # 数据访问层
│   │   ├── model/              # 数据模型
│   │   ├── middleware/         # 中间件
│   │   └── config/             # 配置
│   ├── pkg/                    # 公共包
│   └── go.mod
│
├── crawler/                    # Python爬虫
│   ├── src/
│   │   ├── spiders/            # 爬虫脚本
│   │   ├── parsers/            # 文档解析器
│   │   ├── processors/         # AI预处理
│   │   └── gui/                # GUI管理界面
│   ├── requirements.txt
│   └── README.md
│
├── docs/                       # 文档
│   ├── 公考职位筛选App需求文档.md
│   └── 开发文档.md
│
├── docker/                     # Docker配置
├── scripts/                    # 脚本
└── README.md
```

---

## 二、后端开发 TodoList (Golang Echo)

### 2.1 项目初始化

- [ ] **创建Go模块**
  - 在 `server/` 目录下执行 `go mod init github.com/xxx/what-cse-server`
  - 设置Go版本为1.21+

- [ ] **安装核心依赖**
  - `github.com/labstack/echo/v4` - Echo框架
  - `gorm.io/gorm` - ORM
  - `gorm.io/driver/mysql` - MySQL驱动
  - `github.com/go-redis/redis/v8` - Redis客户端
  - `github.com/golang-jwt/jwt/v5` - JWT认证
  - `github.com/spf13/viper` - 配置管理
  - `go.uber.org/zap` - 日志库
  - `github.com/swaggo/echo-swagger` - Swagger文档

- [ ] **创建项目目录结构**
  - 创建 `cmd/api/main.go` 入口文件
  - 创建 `internal/` 目录及子目录
  - 创建 `pkg/` 公共包目录
  - 创建 `configs/` 配置文件目录

- [ ] **配置管理**
  - 创建 `configs/config.yaml` 配置文件
  - 实现 `internal/config/config.go` 配置加载
  - 支持环境变量覆盖配置
  - 配置项：数据库连接、Redis连接、JWT密钥、服务端口等

- [ ] **日志系统**
  - 创建 `pkg/logger/logger.go`
  - 配置zap日志格式
  - 支持日志级别配置
  - 支持日志文件输出

### 2.2 数据库设计与模型

- [ ] **用户相关表**
  - `users` 表：用户基本信息（id, phone, email, password_hash, nickname, avatar, status, created_at, updated_at）
  - `user_profiles` 表：用户简历信息（user_id, gender, birth_date, hukou_province, hukou_city, political_status, education, major, school, graduation_date, is_fresh_graduate, work_years, grassroots_exp_years）
  - `user_certificates` 表：用户证书（user_id, cert_type, cert_name, cert_level, obtained_date）
  - `user_preferences` 表：用户偏好设置（user_id, preferred_provinces, preferred_cities, preferred_departments, exam_types, match_strategy）

- [ ] **职位相关表**
  - `positions` 表：职位信息（包含需求文档中2.7.2节定义的所有字段）
  - `announcements` 表：公告信息（id, title, source_url, source_name, publish_date, content, announcement_type, status）
  - `position_announcements` 表：职位与公告关联（position_id, announcement_id, stage）
  - `list_pages` 表：监控的列表页（id, url, source_name, category, crawl_frequency, status, last_crawl_time）

- [ ] **用户行为表**
  - `user_favorites` 表：用户收藏（user_id, position_id, created_at）
  - `user_views` 表：用户浏览记录（user_id, position_id, view_time）
  - `user_notifications` 表：用户通知（user_id, type, title, content, is_read, created_at）

- [ ] **系统表**
  - `admins` 表：管理员账户（id, username, password_hash, role, status）
  - `major_dictionary` 表：专业词典（id, major_code, major_name, category, synonyms）
  - `region_dictionary` 表：地区词典（id, region_code, province, city, district）

- [ ] **创建GORM模型**
  - 在 `internal/model/` 下创建对应的Go结构体
  - 定义表关联关系
  - 添加GORM标签（表名、索引、约束等）

- [ ] **数据库迁移**
  - 创建 `internal/database/migration.go`
  - 实现AutoMigrate自动迁移
  - 创建初始化数据seed脚本

### 2.3 用户模块开发

- [ ] **用户注册接口** `POST /api/v1/auth/register`
  - 手机号/邮箱注册
  - 密码加密（bcrypt）
  - 发送验证码逻辑
  - 参数校验

- [ ] **用户登录接口** `POST /api/v1/auth/login`
  - 账号密码登录
  - 验证码登录
  - 生成JWT Token
  - 记录登录日志

- [ ] **Token刷新接口** `POST /api/v1/auth/refresh`
  - 刷新Access Token
  - Token有效期管理

- [ ] **获取用户信息接口** `GET /api/v1/user/profile`
  - 返回用户基本信息
  - 返回用户简历信息
  - 返回用户偏好设置

- [ ] **更新用户简历接口** `PUT /api/v1/user/profile`
  - 更新基本信息
  - 更新教育背景
  - 更新工作经历
  - 参数校验与标准化

- [ ] **更新用户偏好接口** `PUT /api/v1/user/preferences`
  - 更新地域偏好
  - 更新岗位偏好
  - 更新筛选策略

- [ ] **用户证书管理**
  - `POST /api/v1/user/certificates` 添加证书
  - `PUT /api/v1/user/certificates/:id` 更新证书
  - `DELETE /api/v1/user/certificates/:id` 删除证书
  - `GET /api/v1/user/certificates` 获取证书列表

### 2.4 职位模块开发

- [ ] **职位列表接口** `GET /api/v1/positions`
  - 分页查询
  - 多条件筛选（地区、学历、专业、政治面貌等）
  - 排序（发布时间、竞争比等）
  - Elasticsearch全文搜索集成

- [ ] **职位详情接口** `GET /api/v1/positions/:id`
  - 返回职位完整信息
  - 返回关联公告列表
  - 返回岗位生命周期状态
  - 记录用户浏览行为

- [ ] **职位收藏接口**
  - `POST /api/v1/positions/:id/favorite` 收藏职位
  - `DELETE /api/v1/positions/:id/favorite` 取消收藏
  - `GET /api/v1/user/favorites` 获取收藏列表

- [ ] **职位对比接口** `POST /api/v1/positions/compare`
  - 支持多职位对比
  - 返回条件对比表

### 2.5 智能匹配模块开发

- [ ] **匹配引擎核心逻辑**
  - 创建 `internal/service/match_service.go`
  - 实现硬性条件过滤（学历、专业、年龄、户籍、政治面貌）
  - 实现软性条件评分算法
  - 实现匹配度百分比计算

- [ ] **智能匹配接口** `GET /api/v1/match/positions`
  - 根据用户简历匹配职位
  - 返回匹配度排序结果
  - 返回条件匹配详情
  - 支持调整匹配策略（严格/宽松/智能）

- [ ] **匹配报告接口** `GET /api/v1/match/report`
  - 生成个人匹配报告
  - 统计可报考职位数量
  - 分析竞争优势/劣势

### 2.6 公告模块开发

- [ ] **公告列表接口** `GET /api/v1/announcements`
  - 分页查询
  - 按类型筛选（国考/省考/事业单位）
  - 按地区筛选
  - 按发布时间排序

- [ ] **公告详情接口** `GET /api/v1/announcements/:id`
  - 返回公告完整内容
  - 返回关联职位列表

- [ ] **公告搜索接口** `GET /api/v1/announcements/search`
  - Elasticsearch全文搜索
  - 关键词高亮

### 2.7 通知推送模块

- [ ] **推送服务设计**
  - 创建 `internal/service/notification_service.go`
  - 支持App推送（极光/个推）
  - 支持小程序订阅消息
  - 支持站内通知

- [ ] **通知接口**
  - `GET /api/v1/notifications` 获取通知列表
  - `PUT /api/v1/notifications/:id/read` 标记已读
  - `PUT /api/v1/notifications/read-all` 全部已读
  - `DELETE /api/v1/notifications/:id` 删除通知

- [ ] **推送触发逻辑**
  - 新公告发布推送
  - 匹配职位推送
  - 报名截止提醒
  - 岗位阶段变更提醒

### 2.8 Admin管理接口

- [ ] **管理员认证**
  - `POST /api/v1/admin/login` 管理员登录
  - 管理员角色权限控制

- [ ] **用户管理接口**
  - `GET /api/v1/admin/users` 用户列表
  - `GET /api/v1/admin/users/:id` 用户详情
  - `PUT /api/v1/admin/users/:id/status` 更新用户状态

- [ ] **职位数据管理**
  - `GET /api/v1/admin/positions` 职位列表（含待审核）
  - `PUT /api/v1/admin/positions/:id` 修改职位信息
  - `PUT /api/v1/admin/positions/:id/review` 人工审核
  - `DELETE /api/v1/admin/positions/:id` 删除职位

- [ ] **公告管理接口**
  - `GET /api/v1/admin/announcements` 公告列表
  - `POST /api/v1/admin/announcements` 手动添加公告
  - `PUT /api/v1/admin/announcements/:id` 修改公告
  - `DELETE /api/v1/admin/announcements/:id` 删除公告

- [ ] **爬虫管理接口**
  - `GET /api/v1/admin/crawlers` 爬虫任务列表
  - `POST /api/v1/admin/crawlers/trigger` 手动触发爬虫
  - `GET /api/v1/admin/list-pages` 监控列表页管理
  - `POST /api/v1/admin/list-pages` 添加监控列表页
  - `PUT /api/v1/admin/list-pages/:id` 更新列表页配置

- [ ] **数据统计接口**
  - `GET /api/v1/admin/stats/overview` 系统概览统计
  - `GET /api/v1/admin/stats/positions` 职位数据统计
  - `GET /api/v1/admin/stats/users` 用户数据统计

- [ ] **专业词典管理**
  - `GET /api/v1/admin/majors` 专业列表
  - `POST /api/v1/admin/majors` 添加专业
  - `PUT /api/v1/admin/majors/:id` 更新专业
  - `POST /api/v1/admin/majors/import` 批量导入专业

### 2.9 中间件开发

- [ ] **JWT认证中间件**
  - Token解析与验证
  - 用户信息注入Context
  - Token过期处理

- [ ] **RBAC权限中间件**
  - 角色权限校验
  - Admin/User权限分离

- [ ] **请求日志中间件**
  - 记录请求参数
  - 记录响应时间
  - 记录错误信息

- [ ] **限流中间件**
  - 基于Redis的令牌桶限流
  - IP级别限流
  - 用户级别限流

- [ ] **CORS中间件**
  - 配置允许的域名
  - 配置允许的请求方法

- [ ] **错误处理中间件**
  - 统一错误响应格式
  - 错误码定义
  - Panic恢复

### 2.10 缓存设计

- [ ] **Redis缓存策略**
  - 用户会话缓存
  - 职位列表缓存（热门查询）
  - 专业词典缓存
  - 地区词典缓存

- [ ] **缓存更新机制**
  - 数据更新时主动失效
  - 定时刷新策略
  - 缓存预热

### 2.11 API文档与测试

- [ ] **Swagger文档**
  - 配置swaggo注解
  - 生成API文档
  - 部署Swagger UI

- [ ] **单元测试**
  - Service层测试
  - Repository层测试
  - Handler层测试

- [ ] **集成测试**
  - API接口测试
  - 数据库集成测试

---

## 三、Web前端开发 TodoList (React + TypeScript)

> Web项目包含用户端和Admin管理端，共用同一项目，通过路由区分

### 3.1 项目初始化

- [ ] **创建Vite React项目**
  - 在 `apps/web/` 目录下执行 `pnpm create vite . --template react-ts`
  - 配置 `vite.config.ts`（别名、代理、构建选项）

- [ ] **安装核心依赖**
  - `react-router-dom` - 路由管理
  - `@tanstack/react-query` - 服务端状态管理
  - `zustand` - 客户端状态管理
  - `axios` - HTTP客户端
  - `tailwindcss` - CSS框架
  - `@radix-ui/react-*` - 无样式组件
  - `lucide-react` - 图标库
  - `react-hook-form` + `zod` - 表单与校验
  - `dayjs` - 日期处理
  - `ahooks` - React Hooks库

- [ ] **配置TailwindCSS**
  - 安装 `tailwindcss postcss autoprefixer`
  - 创建 `tailwind.config.js`
  - 配置主题色、字体、间距
  - 创建 `src/styles/globals.css`

- [ ] **配置shadcn/ui**
  - 执行 `npx shadcn-ui@latest init`
  - 配置组件目录 `src/components/ui/`
  - 安装常用组件（Button, Input, Dialog, Select, Table, Card等）

- [ ] **项目目录结构创建**
  ```
  src/
  ├── pages/
  │   ├── user/           # 用户端页面
  │   └── admin/          # Admin端页面
  ├── components/
  │   ├── ui/             # shadcn/ui组件
  │   ├── common/         # 通用业务组件
  │   ├── user/           # 用户端组件
  │   └── admin/          # Admin端组件
  ├── hooks/              # 自定义Hooks
  ├── stores/             # Zustand状态
  ├── services/           # API服务
  ├── utils/              # 工具函数
  ├── types/              # TypeScript类型定义
  ├── constants/          # 常量定义
  └── styles/             # 样式文件
  ```

- [ ] **配置路由**
  - 创建 `src/router/index.tsx`
  - 配置用户端路由（`/` 前缀）
  - 配置Admin端路由（`/admin` 前缀）
  - 配置路由守卫（权限控制）
  - 配置404页面

- [ ] **配置Axios**
  - 创建 `src/services/request.ts`
  - 配置baseURL、超时时间
  - 配置请求拦截器（添加Token）
  - 配置响应拦截器（错误处理、Token刷新）

- [ ] **配置React Query**
  - 创建 `src/providers/QueryProvider.tsx`
  - 配置默认选项（重试、缓存时间）
  - 配置全局错误处理

### 3.2 通用组件开发

- [ ] **布局组件**
  - `UserLayout` - 用户端布局（Header + Sidebar + Content）
  - `AdminLayout` - Admin端布局（侧边栏导航 + 顶栏 + Content）
  - `AuthLayout` - 认证页面布局

- [ ] **导航组件**
  - `UserHeader` - 用户端顶部导航（Logo、搜索、用户菜单）
  - `UserSidebar` - 用户端侧边栏（可选）
  - `AdminSidebar` - Admin端侧边导航菜单
  - `Breadcrumb` - 面包屑导航

- [ ] **表单组件**
  - `FormInput` - 表单输入框（集成react-hook-form）
  - `FormSelect` - 表单下拉选择
  - `FormCheckbox` - 表单复选框
  - `FormRadio` - 表单单选框
  - `FormDatePicker` - 日期选择器
  - `RegionSelect` - 省市区三级联动选择器
  - `MajorSelect` - 专业选择器（支持搜索）

- [ ] **数据展示组件**
  - `DataTable` - 数据表格（分页、排序、筛选）
  - `Pagination` - 分页组件
  - `EmptyState` - 空状态展示
  - `LoadingSpinner` - 加载动画
  - `ErrorBoundary` - 错误边界

- [ ] **业务组件**
  - `PositionCard` - 职位卡片（用于列表展示）
  - `PositionDetail` - 职位详情展示
  - `AnnouncementCard` - 公告卡片
  - `MatchScoreBadge` - 匹配度徽章
  - `ConditionCompareTable` - 条件对比表格
  - `PositionTimeline` - 岗位生命周期时间线

### 3.3 用户端页面开发

#### 3.3.1 认证相关页面

- [ ] **登录页** `/login`
  - 手机号/邮箱登录表单
  - 验证码登录选项
  - 记住登录状态
  - 忘记密码链接
  - 注册入口

- [ ] **注册页** `/register`
  - 手机号/邮箱注册表单
  - 验证码发送与校验
  - 密码强度提示
  - 服务协议同意

- [ ] **忘记密码页** `/forgot-password`
  - 手机号/邮箱验证
  - 验证码校验
  - 新密码设置

#### 3.3.2 首页与职位浏览

- [ ] **首页** `/`
  - 搜索框（支持关键词搜索）
  - 快捷筛选入口（国考/省考/事业单位）
  - 最新公告轮播
  - 热门职位推荐
  - 数据统计展示（职位数、公告数）

- [ ] **职位列表页** `/positions`
  - 高级筛选面板
    - 考试类型筛选
    - 工作地点筛选（省/市/区）
    - 学历要求筛选
    - 专业要求筛选
    - 招录人数筛选
    - 更多条件折叠展开
  - 职位列表展示（卡片/表格视图切换）
  - 排序选项（发布时间、匹配度、竞争比）
  - 分页加载
  - 快速收藏按钮

- [ ] **职位详情页** `/positions/:id`
  - 职位基本信息展示
  - 报考条件详情
  - 与我的条件对比表
  - 匹配度分析
  - 收藏/分享按钮
  - 关联公告列表
  - 岗位生命周期时间线
  - 相似职位推荐

- [ ] **职位对比页** `/positions/compare`
  - 多职位条件对比表格
  - 优劣势分析
  - 支持添加/移除对比职位

#### 3.3.3 智能匹配相关页面

- [ ] **智能匹配页** `/match`
  - 一键匹配按钮
  - 匹配策略选择（严格/宽松/智能）
  - 匹配结果列表（按匹配度排序）
  - 每个职位显示匹配度分数
  - 不匹配原因提示
  - 筛选已匹配结果

- [ ] **匹配报告页** `/match/report`
  - 个人条件概览
  - 可报考职位统计
  - 竞争优势分析
  - 薄弱项提示
  - 报告导出（PDF）

#### 3.3.4 公告相关页面

- [ ] **公告列表页** `/announcements`
  - 公告类型筛选
  - 地区筛选
  - 时间范围筛选
  - 公告列表展示
  - 搜索功能

- [ ] **公告详情页** `/announcements/:id`
  - 公告内容展示
  - 附件下载
  - 关联职位列表
  - 分享按钮

#### 3.3.5 用户中心页面

- [ ] **个人中心首页** `/user`
  - 用户信息概览
  - 收藏职位数量
  - 最近浏览记录
  - 消息通知数量

- [ ] **个人简历页** `/user/profile`
  - 基本信息表单（姓名、性别、生日、户籍）
  - 教育背景表单（学历、学校、专业、毕业时间）
  - 工作经历表单（年限、类型）
  - 政治面貌选择
  - 证书管理（添加/编辑/删除）
  - 信息完整度提示

- [ ] **偏好设置页** `/user/preferences`
  - 地域偏好设置
  - 岗位偏好设置
  - 考试类型偏好
  - 筛选策略设置
  - 推送通知设置

- [ ] **我的收藏页** `/user/favorites`
  - 收藏职位列表
  - 批量取消收藏
  - 收藏夹分组（可选）

- [ ] **浏览历史页** `/user/history`
  - 浏览记录列表
  - 清空历史

- [ ] **消息通知页** `/user/notifications`
  - 通知列表
  - 未读/已读筛选
  - 标记已读
  - 删除通知

- [ ] **账号安全页** `/user/security`
  - 修改密码
  - 绑定手机/邮箱
  - 退出登录

### 3.4 Admin端页面开发

#### 3.4.1 Admin认证

- [ ] **Admin登录页** `/admin/login`
  - 管理员账号密码登录
  - 验证码校验

#### 3.4.2 仪表盘

- [ ] **数据概览页** `/admin`
  - 关键数据卡片（用户数、职位数、公告数、今日访问）
  - 数据趋势图表
  - 待处理任务提醒
  - 最近活动日志

#### 3.4.3 用户管理

- [ ] **用户列表页** `/admin/users`
  - 用户数据表格
  - 搜索（手机号、邮箱）
  - 状态筛选
  - 分页
  - 操作（查看、禁用/启用）

- [ ] **用户详情页** `/admin/users/:id`
  - 用户完整信息展示
  - 用户行为日志
  - 状态操作

#### 3.4.4 职位数据管理

- [ ] **职位列表页** `/admin/positions`
  - 职位数据表格
  - 多条件筛选
  - 审核状态筛选
  - 批量操作
  - 导出功能

- [ ] **职位详情/编辑页** `/admin/positions/:id`
  - 职位信息展示/编辑表单
  - 审核操作（通过/拒绝）
  - AI解析置信度显示
  - 原始数据对比

- [ ] **待审核职位页** `/admin/positions/pending`
  - 低置信度职位列表
  - 快速审核操作

#### 3.4.5 公告管理

- [ ] **公告列表页** `/admin/announcements`
  - 公告数据表格
  - 筛选与搜索
  - 操作（查看、编辑、删除）

- [ ] **添加公告页** `/admin/announcements/create`
  - 公告信息表单
  - 富文本编辑器
  - 附件上传
  - 关联职位选择

- [ ] **编辑公告页** `/admin/announcements/:id/edit`
  - 公告编辑表单
  - 保存与发布

#### 3.4.6 爬虫管理

- [ ] **爬虫任务页** `/admin/crawlers`
  - 爬虫任务列表
  - 任务状态（运行中/已完成/失败）
  - 手动触发爬虫
  - 查看爬虫日志

- [ ] **监控列表页管理** `/admin/list-pages`
  - 监控列表页表格
  - 添加新列表页
  - 编辑列表页配置（爬取频率、选择器）
  - 启用/禁用列表页
  - 测试爬取

#### 3.4.7 数据字典管理

- [ ] **专业词典页** `/admin/dictionary/majors`
  - 专业列表
  - 搜索与筛选
  - 添加/编辑/删除专业
  - 批量导入（Excel）
  - 同义词管理

- [ ] **地区词典页** `/admin/dictionary/regions`
  - 地区树形展示
  - 编辑地区信息

#### 3.4.8 系统设置

- [ ] **系统配置页** `/admin/settings`
  - 基础配置
  - 推送配置
  - AI服务配置

- [ ] **管理员账号页** `/admin/settings/admins`
  - 管理员列表
  - 添加管理员
  - 修改权限

- [ ] **操作日志页** `/admin/logs`
  - 操作日志列表
  - 日志筛选

### 3.5 状态管理

- [ ] **用户状态 (Zustand)**
  - 创建 `src/stores/userStore.ts`
  - 存储当前用户信息
  - 存储认证Token
  - 登录/登出Actions

- [ ] **应用状态 (Zustand)**
  - 创建 `src/stores/appStore.ts`
  - 主题设置
  - 侧边栏状态
  - 全局Loading状态

- [ ] **职位对比状态**
  - 创建 `src/stores/compareStore.ts`
  - 对比职位列表管理

### 3.6 API服务封装

- [ ] **认证相关API** `src/services/auth.ts`
  - `login()` 登录
  - `register()` 注册
  - `refreshToken()` 刷新Token
  - `logout()` 登出

- [ ] **用户相关API** `src/services/user.ts`
  - `getProfile()` 获取用户信息
  - `updateProfile()` 更新用户信息
  - `updatePreferences()` 更新偏好
  - `getCertificates()` 获取证书列表

- [ ] **职位相关API** `src/services/position.ts`
  - `getPositions()` 获取职位列表
  - `getPositionDetail()` 获取职位详情
  - `favoritePosition()` 收藏职位
  - `unfavoritePosition()` 取消收藏
  - `comparePositions()` 职位对比

- [ ] **匹配相关API** `src/services/match.ts`
  - `getMatchedPositions()` 获取匹配职位
  - `getMatchReport()` 获取匹配报告

- [ ] **公告相关API** `src/services/announcement.ts`
  - `getAnnouncements()` 获取公告列表
  - `getAnnouncementDetail()` 获取公告详情

- [ ] **通知相关API** `src/services/notification.ts`
  - `getNotifications()` 获取通知列表
  - `markAsRead()` 标记已读

- [ ] **Admin API** `src/services/admin/`
  - 用户管理API
  - 职位管理API
  - 公告管理API
  - 爬虫管理API
  - 统计API

### 3.7 自定义Hooks

- [ ] **useAuth** - 认证相关Hook
- [ ] **useUser** - 用户信息Hook
- [ ] **usePositions** - 职位列表Hook（React Query）
- [ ] **useMatchedPositions** - 匹配职位Hook
- [ ] **useFavorites** - 收藏管理Hook
- [ ] **useNotifications** - 通知Hook
- [ ] **usePagination** - 分页Hook
- [ ] **useDebounce** - 防抖Hook
- [ ] **useLocalStorage** - 本地存储Hook

### 3.8 工具函数

- [ ] **日期格式化** `src/utils/date.ts`
- [ ] **数据校验** `src/utils/validation.ts`
- [ ] **地区数据处理** `src/utils/region.ts`
- [ ] **专业数据处理** `src/utils/major.ts`
- [ ] **URL处理** `src/utils/url.ts`
- [ ] **存储封装** `src/utils/storage.ts`

### 3.9 响应式与移动端适配

- [ ] **响应式布局**
  - 配置TailwindCSS断点
  - 移动端导航适配
  - 表格移动端适配

- [ ] **移动端优化**
  - 触摸交互优化
  - 图片懒加载
  - 骨架屏加载

---

## 四、App端开发 TodoList (Taro React)

> App端使用Taro 3.x + React开发，支持编译到iOS和Android

### 4.1 项目初始化

- [ ] **创建Taro项目**
  - 在 `apps/mobile/` 目录下执行 `npx @tarojs/cli init .`
  - 选择React框架
  - 选择TypeScript模板
  - 配置编译目标（React Native）

- [ ] **安装核心依赖**
  - `@tarojs/taro` - Taro运行时
  - `@tarojs/components` - 跨端组件
  - `@tarojs/plugin-platform-rn` - React Native插件
  - `zustand` - 状态管理
  - `@tanstack/react-query` - 数据请求
  - `taro-ui` 或 `@nutui/nutui-react-taro` - UI组件库

- [ ] **项目配置**
  - 配置 `config/index.js`（输出目录、别名）
  - 配置 `babel.config.js`
  - 配置 `tsconfig.json`
  - 配置环境变量

- [ ] **项目目录结构创建**
  ```
  src/
  ├── pages/              # 页面
  │   ├── index/          # 首页
  │   ├── positions/      # 职位相关
  │   ├── match/          # 匹配相关
  │   ├── announcements/  # 公告相关
  │   └── user/           # 用户中心
  ├── components/         # 组件
  │   ├── common/         # 通用组件
  │   └── business/       # 业务组件
  ├── hooks/              # 自定义Hooks
  ├── stores/             # 状态管理
  ├── services/           # API服务
  ├── utils/              # 工具函数
  ├── types/              # 类型定义
  ├── constants/          # 常量
  └── app.config.ts       # 应用配置
  ```

### 4.2 通用组件开发

- [ ] **导航组件**
  - `NavBar` - 自定义导航栏
  - `TabBar` - 底部标签栏
  - `BackButton` - 返回按钮

- [ ] **表单组件**
  - `FormInput` - 表单输入
  - `FormPicker` - 选择器
  - `FormDatePicker` - 日期选择
  - `RegionPicker` - 地区选择器
  - `MajorPicker` - 专业选择器

- [ ] **列表组件**
  - `PositionListItem` - 职位列表项
  - `AnnouncementListItem` - 公告列表项
  - `RefreshList` - 下拉刷新列表
  - `LoadMoreList` - 上拉加载列表

- [ ] **反馈组件**
  - `Loading` - 加载组件
  - `Empty` - 空状态
  - `Toast` - 提示
  - `Modal` - 弹窗

- [ ] **业务组件**
  - `PositionCard` - 职位卡片
  - `MatchScoreCircle` - 匹配度圆环
  - `FilterPanel` - 筛选面板
  - `ConditionTag` - 条件标签

### 4.3 页面开发

#### 4.3.1 TabBar页面

- [ ] **首页** `pages/index/index`
  - 搜索入口
  - 快捷入口（国考/省考/事业单位）
  - 最新公告卡片
  - 推荐职位列表
  - 底部TabBar

- [ ] **职位页** `pages/positions/index`
  - 搜索框
  - 筛选标签栏
  - 职位列表（下拉刷新、上拉加载）
  - 悬浮筛选按钮

- [ ] **匹配页** `pages/match/index`
  - 匹配度概览卡片
  - 匹配策略切换
  - 匹配职位列表
  - 简历完整度提示

- [ ] **我的页** `pages/user/index`
  - 用户信息卡片
  - 功能菜单列表
  - 登录/注册入口（未登录状态）

#### 4.3.2 职位相关页面

- [ ] **职位搜索页** `pages/positions/search`
  - 搜索输入框
  - 搜索历史
  - 热门搜索标签

- [ ] **职位筛选页** `pages/positions/filter`
  - 多条件筛选表单
  - 考试类型选择
  - 地区级联选择
  - 学历选择
  - 专业选择
  - 更多条件
  - 重置/确定按钮

- [ ] **职位详情页** `pages/positions/detail`
  - 职位信息卡片
  - 报考条件列表
  - 条件匹配对比
  - 收藏按钮
  - 分享按钮
  - 关联公告列表
  - 底部操作栏

- [ ] **职位对比页** `pages/positions/compare`
  - 对比职位选择
  - 条件对比表格
  - 左右滑动查看

#### 4.3.3 公告相关页面

- [ ] **公告列表页** `pages/announcements/index`
  - 类型筛选Tab
  - 公告列表
  - 搜索入口

- [ ] **公告详情页** `pages/announcements/detail`
  - 公告内容展示
  - 附件下载
  - 关联职位
  - 分享功能

#### 4.3.4 用户相关页面

- [ ] **登录页** `pages/user/login`
  - 手机号登录
  - 验证码登录
  - 第三方登录（微信）
  - 注册入口

- [ ] **注册页** `pages/user/register`
  - 注册表单
  - 验证码发送
  - 协议同意

- [ ] **个人简历页** `pages/user/profile`
  - 基本信息编辑
  - 教育背景编辑
  - 工作经历编辑
  - 证书管理

- [ ] **偏好设置页** `pages/user/preferences`
  - 地域偏好
  - 岗位偏好
  - 推送设置

- [ ] **我的收藏页** `pages/user/favorites`
  - 收藏职位列表
  - 编辑模式（批量删除）

- [ ] **浏览历史页** `pages/user/history`
  - 历史记录列表
  - 清空功能

- [ ] **消息通知页** `pages/user/notifications`
  - 通知列表
  - 已读/未读标记

- [ ] **设置页** `pages/user/settings`
  - 账号安全
  - 清除缓存
  - 关于我们
  - 退出登录

### 4.4 状态管理

- [ ] **用户状态** `stores/userStore.ts`
  - 用户信息
  - 登录状态
  - Token管理

- [ ] **应用状态** `stores/appStore.ts`
  - 全局加载状态
  - 网络状态

- [ ] **筛选状态** `stores/filterStore.ts`
  - 当前筛选条件
  - 筛选历史

### 4.5 API服务

- [ ] **请求封装** `services/request.ts`
  - 基于Taro.request封装
  - 请求拦截（Token注入）
  - 响应拦截（错误处理）
  - Token刷新逻辑

- [ ] **API模块**
  - `services/auth.ts` - 认证API
  - `services/user.ts` - 用户API
  - `services/position.ts` - 职位API
  - `services/match.ts` - 匹配API
  - `services/announcement.ts` - 公告API
  - `services/notification.ts` - 通知API

### 4.6 功能实现

- [ ] **登录状态管理**
  - Token持久化存储
  - 自动刷新Token
  - 登录状态判断
  - 退出登录清理

- [ ] **推送通知**
  - 极光/个推SDK集成
  - 推送Token上报
  - 推送消息处理
  - 点击跳转处理

- [ ] **分享功能**
  - 分享职位详情
  - 分享公告
  - 生成分享海报

- [ ] **离线缓存**
  - 职位数据缓存
  - 用户数据缓存
  - 缓存更新策略

- [ ] **性能优化**
  - 图片懒加载
  - 列表虚拟滚动
  - 预加载策略

### 4.7 React Native构建

- [ ] **iOS构建**
  - Xcode项目配置
  - 签名证书配置
  - 打包测试

- [ ] **Android构建**
  - Gradle配置
  - 签名配置
  - APK打包

---

## 五、微信小程序开发 TodoList (Taro React)

> 微信小程序使用Taro 3.x + React开发，与App端共享部分代码

### 5.1 项目初始化

- [ ] **创建Taro项目**
  - 在 `apps/miniprogram/` 目录下执行 `npx @tarojs/cli init .`
  - 选择React框架
  - 选择TypeScript模板
  - 配置编译目标（微信小程序）

- [ ] **安装依赖**
  - `@tarojs/taro` - Taro运行时
  - `@tarojs/components` - 组件库
  - `@tarojs/plugin-platform-weapp` - 微信小程序插件
  - `zustand` - 状态管理
  - `weui-miniprogram` 或 `@nutui/nutui-react-taro` - UI组件

- [ ] **项目配置**
  - 配置 `project.config.json`（AppID）
  - 配置 `config/index.js`
  - 配置分包加载
  - 配置隐私协议

- [ ] **目录结构创建**
  ```
  src/
  ├── pages/              # 主包页面
  │   ├── index/          # 首页
  │   └── user/           # 用户相关
  ├── subpackages/        # 分包
  │   ├── positions/      # 职位分包
  │   ├── match/          # 匹配分包
  │   └── announcements/  # 公告分包
  ├── components/         # 组件
  ├── hooks/              # Hooks
  ├── stores/             # 状态
  ├── services/           # API
  ├── utils/              # 工具
  └── app.config.ts       # 应用配置
  ```

### 5.2 分包配置

- [ ] **主包页面**
  - `pages/index/index` - 首页
  - `pages/user/index` - 我的
  - `pages/user/login` - 登录
  - `pages/user/profile` - 简历

- [ ] **职位分包** `subpackages/positions/`
  - `index` - 职位列表
  - `search` - 职位搜索
  - `filter` - 职位筛选
  - `detail` - 职位详情
  - `compare` - 职位对比

- [ ] **匹配分包** `subpackages/match/`
  - `index` - 智能匹配
  - `report` - 匹配报告

- [ ] **公告分包** `subpackages/announcements/`
  - `index` - 公告列表
  - `detail` - 公告详情

### 5.3 通用组件开发

- [ ] **基础组件**（与App端共享逻辑，样式适配小程序）
  - `NavBar` - 自定义导航栏
  - `TabBar` - 底部导航
  - `Loading` - 加载
  - `Empty` - 空状态

- [ ] **表单组件**
  - `FormInput` - 输入框
  - `FormPicker` - 选择器
  - `RegionPicker` - 地区选择
  - `MajorPicker` - 专业选择

- [ ] **业务组件**
  - `PositionCard` - 职位卡片
  - `AnnouncementCard` - 公告卡片
  - `MatchScoreRing` - 匹配度环形
  - `FilterBar` - 筛选栏

### 5.4 页面开发

#### 5.4.1 主包页面

- [ ] **首页** `pages/index/index`
  - 搜索框
  - 快捷入口Grid
  - 最新公告Swiper
  - 推荐职位列表
  - TabBar

- [ ] **我的页** `pages/user/index`
  - 用户信息卡片
  - 功能Cell列表
  - 底部版本信息

- [ ] **登录页** `pages/user/login`
  - 微信一键登录按钮
  - 手机号登录入口
  - 隐私协议勾选

- [ ] **简历页** `pages/user/profile`
  - 基本信息表单
  - 教育背景
  - 工作经历
  - 证书管理

#### 5.4.2 职位分包页面

- [ ] **职位列表页** `subpackages/positions/index`
  - 搜索框
  - 筛选Tab
  - 职位列表
  - 加载更多

- [ ] **职位搜索页** `subpackages/positions/search`
  - 搜索输入
  - 搜索历史
  - 热门搜索

- [ ] **职位筛选页** `subpackages/positions/filter`
  - 多维度筛选
  - 筛选条件展示
  - 重置/确认

- [ ] **职位详情页** `subpackages/positions/detail`
  - 职位信息
  - 条件匹配
  - 收藏/分享
  - 关联公告

- [ ] **职位对比页** `subpackages/positions/compare`
  - 对比表格
  - 横向滚动

#### 5.4.3 匹配分包页面

- [ ] **智能匹配页** `subpackages/match/index`
  - 匹配度统计
  - 策略选择
  - 匹配结果列表

- [ ] **匹配报告页** `subpackages/match/report`
  - 条件分析
  - 可报考统计
  - 生成海报

#### 5.4.4 公告分包页面

- [ ] **公告列表页** `subpackages/announcements/index`
  - 类型筛选
  - 公告列表

- [ ] **公告详情页** `subpackages/announcements/detail`
  - 公告内容
  - 附件预览

#### 5.4.5 用户相关分包（可选放主包）

- [ ] **偏好设置页** `pages/user/preferences`
- [ ] **我的收藏页** `pages/user/favorites`
- [ ] **浏览历史页** `pages/user/history`
- [ ] **消息通知页** `pages/user/notifications`
- [ ] **设置页** `pages/user/settings`

### 5.5 微信小程序特有功能

- [ ] **微信登录**
  - `wx.login` 获取code
  - 后端换取openid/session_key
  - 获取用户信息（头像、昵称）
  - 绑定手机号

- [ ] **订阅消息**
  - 申请订阅消息模板
  - 引导用户订阅
  - 发送订阅消息（新公告、匹配职位）

- [ ] **分享功能**
  - `onShareAppMessage` 分享给好友
  - `onShareTimeline` 分享到朋友圈
  - 自定义分享卡片

- [ ] **小程序码**
  - 生成带参数小程序码
  - 扫码跳转处理

- [ ] **云开发（可选）**
  - 云函数辅助
  - 云存储

### 5.6 状态与API

- [ ] **复用App端代码**
  - 状态管理逻辑共享
  - API服务逻辑共享
  - 工具函数共享
  - 类型定义共享

- [ ] **小程序适配**
  - 请求封装适配（Taro.request）
  - 存储适配（Taro.setStorage）
  - 路由适配（Taro.navigateTo）

### 5.7 性能优化

- [ ] **分包预下载**
  - 配置 `preloadRule`
  - 首页预下载职位分包

- [ ] **按需注入**
  - 配置 `lazyCodeLoading`

- [ ] **图片优化**
  - 使用WebP格式
  - CDN图片裁剪

- [ ] **数据缓存**
  - 本地缓存策略
  - 缓存失效处理

### 5.8 发布上线

- [ ] **审核准备**
  - 类目选择
  - 隐私协议配置
  - 用户协议页面

- [ ] **提交审核**
  - 版本管理
  - 审核加急

---

## 六、Python爬虫模块开发 TodoList

> 爬虫模块使用Python开发，包含爬虫引擎、文档解析器、AI预处理和GUI管理界面

### 6.1 项目初始化

- [ ] **创建Python项目**
  - 在 `crawler/` 目录下创建项目
  - 创建 `requirements.txt` 依赖文件
  - 创建 `setup.py` 或 `pyproject.toml`
  - 设置Python版本 >= 3.10

- [ ] **安装核心依赖**
  - `scrapy` - 爬虫框架
  - `selenium` - 动态页面渲染
  - `playwright` - 现代浏览器自动化（可选）
  - `requests` - HTTP请求
  - `beautifulsoup4` - HTML解析
  - `lxml` - XML/HTML解析器
  - `pdfplumber` - PDF解析
  - `python-docx` - Word解析
  - `pandas` / `openpyxl` - Excel解析
  - `paddleocr` / `pytesseract` - OCR识别
  - `openai` / `anthropic` - AI API
  - `pymysql` / `sqlalchemy` - 数据库
  - `redis` - 缓存与队列
  - `celery` - 任务队列
  - `PyQt6` / `tkinter` - GUI

- [ ] **项目目录结构创建**
  ```
  crawler/
  ├── src/
  │   ├── spiders/           # 爬虫脚本
  │   │   ├── base.py        # 基础爬虫类
  │   │   ├── list_spider.py # 列表页爬虫
  │   │   └── detail_spider.py # 详情页爬虫
  │   ├── parsers/           # 文档解析器
  │   │   ├── html_parser.py
  │   │   ├── pdf_parser.py
  │   │   ├── excel_parser.py
  │   │   ├── word_parser.py
  │   │   └── ocr_parser.py
  │   ├── processors/        # AI预处理
  │   │   ├── ai_extractor.py
  │   │   ├── normalizer.py
  │   │   └── validator.py
  │   ├── models/            # 数据模型
  │   ├── database/          # 数据库操作
  │   ├── utils/             # 工具函数
  │   ├── tasks/             # Celery任务
  │   └── gui/               # GUI管理界面
  │       ├── main_window.py
  │       ├── spider_manager.py
  │       ├── task_monitor.py
  │       └── config_editor.py
  ├── configs/               # 配置文件
  │   ├── settings.yaml      # 全局配置
  │   └── spiders/           # 爬虫配置
  ├── logs/                  # 日志目录
  ├── data/                  # 数据目录
  ├── tests/                 # 测试
  ├── requirements.txt
  └── README.md
  ```

- [ ] **配置管理**
  - 创建 `configs/settings.yaml`
  - 数据库配置
  - Redis配置
  - AI API配置
  - 代理IP配置
  - 日志配置

### 6.2 爬虫引擎开发

#### 6.2.1 基础爬虫框架

- [ ] **基础爬虫类** `src/spiders/base.py`
  - 定义爬虫基类 `BaseSpider`
  - 请求头管理（User-Agent轮换）
  - Cookie管理
  - 代理IP支持
  - 请求频率控制
  - 重试机制
  - 日志记录

- [ ] **Scrapy配置** `scrapy.cfg` / `settings.py`
  - 并发请求数配置
  - 下载延迟配置
  - 中间件配置
  - Pipeline配置
  - 日志配置

#### 6.2.2 列表页爬虫

- [ ] **列表页发现爬虫** `src/spiders/list_discovery_spider.py`
  - 从聚合平台抓取文章URL
  - URL结构分析，推断列表页
  - 页面元素提取（面包屑、返回链接）
  - 新列表页入库

- [ ] **列表页监控爬虫** `src/spiders/list_monitor_spider.py`
  - 定时爬取已入库列表页
  - 解析文章链接
  - 增量更新（URL去重）
  - 分页处理
  - 状态更新

- [ ] **列表页配置管理**
  - 列表页CSS选择器配置
  - 分页模式配置
  - 爬取频率配置
  - 启用/禁用状态

#### 6.2.3 详情页爬虫

- [ ] **公告详情爬虫** `src/spiders/announcement_spider.py`
  - 抓取公告页面内容
  - 提取标题、发布时间、正文
  - 下载附件（PDF/Excel/Word）
  - 提取原文URL
  - 保存原始HTML

- [ ] **职位表爬虫** `src/spiders/position_spider.py`
  - 识别职位表类型（HTML表格/附件）
  - 提取职位表数据
  - 调用文档解析器
  - 数据入库

#### 6.2.4 反爬处理

- [ ] **代理IP管理** `src/utils/proxy_manager.py`
  - 代理池管理
  - 代理有效性检测
  - 自动切换代理
  - 支持HTTP/HTTPS/SOCKS5

- [ ] **验证码处理** `src/utils/captcha_solver.py`
  - 图片验证码识别（OCR/第三方服务）
  - 滑块验证码处理
  - 短信验证码（人工介入）

- [ ] **动态渲染** `src/utils/renderer.py`
  - Selenium WebDriver管理
  - 无头浏览器配置
  - JavaScript渲染等待
  - 页面截图（调试用）

- [ ] **请求伪装**
  - User-Agent池
  - Referer设置
  - Cookie管理
  - 请求间隔随机化

### 6.3 文档解析器开发

#### 6.3.1 HTML解析器

- [ ] **HTML表格解析** `src/parsers/html_parser.py`
  - 表格识别与提取
  - 表头映射
  - 合并单元格处理
  - 嵌套表格处理
  - 数据清洗

#### 6.3.2 PDF解析器

- [ ] **PDF文本解析** `src/parsers/pdf_parser.py`
  - 使用pdfplumber提取文本
  - 表格识别与提取
  - 多列布局处理
  - 页眉页脚过滤
  - 目录识别

- [ ] **扫描件PDF处理**
  - 判断是否为扫描件
  - 调用OCR识别
  - 图片预处理（去噪、二值化）

#### 6.3.3 Excel解析器

- [ ] **Excel解析** `src/parsers/excel_parser.py`
  - 使用pandas/openpyxl读取
  - 多Sheet处理
  - 表头识别
  - 合并单元格处理
  - 数据类型转换
  - 空行空列过滤

#### 6.3.4 Word解析器

- [ ] **Word解析** `src/parsers/word_parser.py`
  - 使用python-docx读取
  - 表格提取
  - 段落提取
  - 图片提取（需OCR）
  - 样式识别

#### 6.3.5 OCR引擎

- [ ] **OCR服务** `src/parsers/ocr_parser.py`
  - PaddleOCR集成
  - Tesseract备用
  - 图片预处理
  - 表格区域识别
  - 文字坐标提取
  - 结果后处理

### 6.4 AI预处理模块开发

#### 6.4.1 AI信息提取

- [ ] **AI提取器** `src/processors/ai_extractor.py`
  - LLM API封装（支持OpenAI/Claude/国产模型）
  - Prompt模板管理
  - 结构化输出解析（JSON）
  - Token用量控制
  - 批量处理
  - 错误重试

- [ ] **提取Prompt设计**
  - 职位基本信息提取Prompt
  - 报考条件提取Prompt
  - 考试信息提取Prompt
  - 公告类型识别Prompt

- [ ] **多轮提取策略**
  - 长文本分块处理
  - 多字段分批提取
  - 结果合并

#### 6.4.2 数据标准化

- [ ] **字段标准化** `src/processors/normalizer.py`
  - 学历标准化映射
  - 专业标准化（对接专业词典）
  - 地区标准化（对接地区词典）
  - 年龄计算
  - 日期格式统一
  - 数值提取与转换

- [ ] **专业匹配**
  - 专业名称模糊匹配
  - 专业大类归属
  - 同义词处理

- [ ] **地区匹配**
  - 省市区名称匹配
  - 行政区划代码映射
  - 简称处理

#### 6.4.3 数据校验

- [ ] **规则校验** `src/processors/validator.py`
  - 必填字段检查
  - 字段类型校验
  - 枚举值范围校验
  - 逻辑一致性校验（如年龄范围合理性）
  - 日期合理性校验

- [ ] **AI置信度评估**
  - 解析置信度计算
  - 低置信度标记
  - 异常数据告警

- [ ] **人工复核队列**
  - 低置信度数据入队
  - 冲突数据入队
  - 复核状态管理

### 6.5 数据存储模块

- [ ] **数据库操作** `src/database/`
  - SQLAlchemy模型定义
  - 公告表操作
  - 职位表操作
  - 列表页表操作
  - 爬虫任务表操作

- [ ] **数据入库Pipeline** `src/pipelines/`
  - 数据去重
  - 数据入库
  - 关联关系建立
  - 增量更新

- [ ] **缓存管理**
  - Redis缓存URL去重
  - 已爬取URL集合
  - 爬虫状态缓存

### 6.6 任务调度

- [ ] **Celery任务** `src/tasks/`
  - 列表页监控任务
  - 公告爬取任务
  - 文档解析任务
  - AI预处理任务
  - 数据入库任务

- [ ] **定时调度**
  - Celery Beat配置
  - 不同列表页不同频率
  - 任务优先级

- [ ] **任务监控**
  - 任务状态追踪
  - 失败重试
  - 告警通知

### 6.7 GUI管理界面开发

#### 6.7.1 GUI框架搭建

- [ ] **主窗口** `src/gui/main_window.py`
  - 使用PyQt6创建主窗口
  - 菜单栏（文件、编辑、视图、帮助）
  - 工具栏（常用操作快捷按钮）
  - 状态栏（系统状态显示）
  - 多Tab页面切换

- [ ] **布局设计**
  - 左侧：爬虫项目树
  - 中间：详情/配置面板
  - 右侧：日志/状态面板
  - 底部：任务队列

#### 6.7.2 爬虫项目管理

- [ ] **爬虫项目树** `src/gui/spider_manager.py`
  - 显示所有爬虫项目
  - 按数据源分组
  - 显示爬虫状态（运行中/停止/错误）
  - 右键菜单（启动/停止/配置/删除）

- [ ] **添加爬虫向导**
  - 选择数据源类型
  - 输入目标URL
  - 配置爬取规则
  - 测试爬取
  - 保存配置

- [ ] **爬虫配置编辑** `src/gui/config_editor.py`
  - 基本配置（名称、描述、URL）
  - 爬取规则配置（选择器、分页）
  - 频率配置（间隔、时间段）
  - 代理配置
  - 反爬配置

#### 6.7.3 任务监控面板

- [ ] **任务列表** `src/gui/task_monitor.py`
  - 显示所有任务
  - 任务状态（等待/运行/完成/失败）
  - 进度显示
  - 开始时间/耗时
  - 筛选与搜索

- [ ] **任务详情**
  - 任务参数
  - 执行日志
  - 结果预览
  - 错误信息

- [ ] **任务操作**
  - 取消任务
  - 重试任务
  - 查看结果

#### 6.7.4 数据预览与管理

- [ ] **数据浏览器**
  - 公告数据表格
  - 职位数据表格
  - 筛选与搜索
  - 数据导出

- [ ] **数据详情**
  - 原始数据查看
  - 解析结果查看
  - AI提取结果查看
  - 人工修正

- [ ] **待审核队列**
  - 低置信度数据列表
  - 审核操作（通过/修改/删除）
  - 批量审核

#### 6.7.5 监控列表页管理

- [ ] **列表页管理界面**
  - 已添加列表页表格
  - 状态显示（活跃/禁用/错误）
  - 最近爬取时间
  - 文章数量统计

- [ ] **添加列表页**
  - URL输入
  - 自动检测页面类型
  - 配置文章选择器
  - 配置分页模式
  - 测试提取

- [ ] **列表页配置**
  - 爬取频率设置
  - 选择器配置
  - 启用/禁用
  - 删除

#### 6.7.6 日志与告警

- [ ] **日志面板**
  - 实时日志滚动
  - 日志级别筛选
  - 日志搜索
  - 日志导出

- [ ] **告警通知**
  - 爬虫异常告警
  - 任务失败告警
  - 数据异常告警
  - 告警历史

#### 6.7.7 系统设置

- [ ] **全局配置界面**
  - 数据库配置
  - Redis配置
  - AI API配置
  - 代理配置
  - 日志配置

- [ ] **代理管理**
  - 代理列表
  - 添加/删除代理
  - 代理测试
  - 代理统计

- [ ] **定时任务配置**
  - 定时任务列表
  - 添加/编辑定时任务
  - 任务启用/禁用

### 6.8 API接口（供后端调用）

- [ ] **HTTP API服务** `src/api/`
  - Flask/FastAPI创建HTTP服务
  - 手动触发爬虫接口
  - 查询爬虫状态接口
  - 查询任务状态接口
  - 添加列表页接口
  - 获取统计数据接口

### 6.9 测试与文档

- [ ] **单元测试**
  - 解析器测试
  - 标准化测试
  - 校验器测试

- [ ] **集成测试**
  - 爬虫集成测试
  - 全流程测试

- [ ] **文档**
  - 使用说明文档
  - 配置说明文档
  - API文档

---

## 七、部署与DevOps TodoList

### 7.1 Docker化

- [ ] **后端Dockerfile**
  - 创建 `server/Dockerfile`
  - 多阶段构建
  - 优化镜像大小

- [ ] **Web前端Dockerfile**
  - 创建 `apps/web/Dockerfile`
  - Nginx静态文件服务

- [ ] **爬虫Dockerfile**
  - 创建 `crawler/Dockerfile`
  - 包含GUI依赖（可选headless）

- [ ] **Docker Compose**
  - 创建 `docker-compose.yml`
  - 定义服务（api, web, mysql, redis, elasticsearch）
  - 定义网络
  - 定义数据卷

### 7.2 数据库初始化

- [ ] **MySQL初始化脚本**
  - 创建数据库
  - 字符集配置
  - 初始数据导入

- [ ] **Redis配置**
  - 持久化配置
  - 内存限制

- [ ] **Elasticsearch配置**
  - 索引创建
  - 分词器配置

### 7.3 CI/CD

- [ ] **GitHub Actions配置**
  - 代码检查（lint）
  - 单元测试
  - 构建镜像
  - 部署流程

- [ ] **环境配置**
  - 开发环境
  - 测试环境
  - 生产环境

### 7.4 监控与日志

- [ ] **日志收集**
  - 集中日志收集
  - 日志格式统一

- [ ] **监控告警**
  - 服务健康检查
  - 性能监控
  - 错误告警

---

## 八、项目里程碑规划

### P1: MVP版本 (4-6周)
- [ ] 后端基础框架搭建
- [ ] 用户认证模块
- [ ] 职位数据模型与基础API
- [ ] Web用户端基础页面
- [ ] 国考职位表Excel解析
- [ ] 基础筛选功能

### P2: 核心功能 (6-8周)
- [ ] 智能匹配引擎
- [ ] 多省份职位数据支持
- [ ] App端开发
- [ ] 微信小程序开发
- [ ] Admin管理端

### P3: 增强功能 (4周)
- [ ] PDF/Word文档解析
- [ ] 爬虫GUI管理界面
- [ ] 推送通知
- [ ] 公告关联机制

### P4: 高级功能 (6周)
- [ ] AI预处理流水线
- [ ] 数据统计分析
- [ ] 历年数据支持
- [ ] VIP功能

---

*文档完成*
